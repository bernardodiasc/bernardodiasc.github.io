---
interface Props {
  title: string;
  url: string;
}

const { title, url } = Astro.props;

const encodedUrl = encodeURIComponent(url);
const encodedTitle = encodeURIComponent(title);

const links = [
  { name: 'Facebook', href: `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}` },
  { name: 'LinkedIn', href: `https://www.linkedin.com/shareArticle?mini=true&url=${encodedUrl}&title=${encodedTitle}` },
  { name: 'Twitter', href: `https://twitter.com/intent/tweet?url=${encodedUrl}&text=${encodedTitle}` },
  { name: 'Reddit', href: `https://www.reddit.com/submit?url=${encodedUrl}&title=${encodedTitle}` },
];
---

{title && (
  <div class="share">
    {links.map((link) => (
      <a
        href={link.href}
        target="_blank"
        rel="noopener noreferrer"
        class="share__button"
        title={`Share on ${link.name}`}
      >
        {link.name}
      </a>
    ))}
  </div>
)}

<style>
  .share {
    font-size: var(--meta-size);
    display: flex;
    gap: 0.75em;
    margin-bottom: 1em;
  }

  .share__button {
    opacity: 0.5;
    transition: opacity 0.4s ease-out;
    color: var(--heading-color);
    font-size: 0.85em;
  }

  .share__button:hover {
    opacity: 1;
    text-decoration: underline;
  }
</style>
