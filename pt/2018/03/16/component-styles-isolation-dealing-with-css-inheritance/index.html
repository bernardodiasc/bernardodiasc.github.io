<!DOCTYPE html><html lang="pt" data-astro-cid-sckkx6r4> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Astro v5.17.3"><title>Isolamento de estilos de componentes: Lidando com herança CSS - Bernardo Dias da Cruz</title><meta name="description" content="Como garantir consistência visual no uso de componentes de UI."><link rel="canonical" href="https://bernardodiasdacruz.com/pt/2018/03/16/component-styles-isolation-dealing-with-css-inheritance/"><meta name="twitter:site" content="@bernardodiasc"><meta name="twitter:title" content="Isolamento de estilos de componentes: Lidando com herança CSS"><meta name="twitter:description" content="Como garantir consistência visual no uso de componentes de UI."><meta name="twitter:creator" content="@bernardodiasc"><meta name="twitter:image" content="https://bernardodiasdacruz.com/images/thumbnail.png"><meta property="og:title" content="Isolamento de estilos de componentes: Lidando com herança CSS"><meta property="og:type" content="article"><meta property="og:url" content="https://bernardodiasdacruz.com/pt/2018/03/16/component-styles-isolation-dealing-with-css-inheritance/"><meta property="og:image" content="https://bernardodiasdacruz.com/images/thumbnail.png"><meta property="og:description" content="Como garantir consistência visual no uso de componentes de UI."><meta property="og:site_name" content="Bernardo Dias da Cruz"><link rel="shortcut icon" href="/favicon.ico"><meta name="google-site-verification" content="w8owtTJwheQ0pp3DJ-bwIKX67nyi2bdCZs8fLs-r-Wc"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=IBM+Plex+Serif:wght@400&family=Permanent+Marker&display=swap" rel="stylesheet"><link rel="stylesheet" href="/_astro/_title_.CGcNIkLq.css">
<style>.share[data-astro-cid-ung7bpju]{font-size:var(--meta-size);display:flex;gap:.75em;margin-bottom:1em}.share__button[data-astro-cid-ung7bpju]{opacity:.5;transition:opacity .4s ease-out;color:var(--heading-color);font-size:.85em}.share__button[data-astro-cid-ung7bpju]:hover{opacity:1;text-decoration:underline}.post-details[data-astro-cid-bangc7to]{font-size:var(--text-size);padding:2em 2em 4em}.disqus[data-astro-cid-r2x3s5wt]{font-size:var(--text-size);padding:2em}
.icon[data-astro-cid-patnjmll]{fill:currentColor;width:100%;height:100%;display:block}
.text-block{font-size:var(--text-size);width:100%;overflow:inherit}.text-block h1,.text-block h2,.text-block h3,.text-block h4,.text-block h5,.text-block h6{font-family:var(--heading-family);color:var(--heading-color);font-weight:var(--heading-weight);line-height:var(--heading-line)}.text-block h1{font-size:var(--heading-level1-size);margin:var(--heading-level1-margins)}.text-block h2{font-size:var(--heading-level2-size);margin:var(--heading-level2-margins);padding-bottom:.3em;border-bottom:1px solid var(--line-light)}.text-block h3{font-size:var(--heading-level3-size);margin:var(--heading-level3-margins);text-transform:uppercase}.text-block h4{font-size:var(--heading-level4-size);margin:var(--heading-level4-margins);font-weight:var(--heading-weight-bold)}.text-block h5{font-size:var(--heading-level5-size);margin:var(--heading-level5-margins)}.text-block h6{font-size:var(--heading-level6-size);margin:var(--heading-level6-margins)}.text-block p{font-family:var(--text-family);color:var(--text-color);font-size:var(--text-size);font-weight:var(--text-weight);line-height:var(--text-line);word-wrap:break-word;margin:0 0 1em;text-align:justify;hyphens:auto}.text-block a{color:inherit;background-image:linear-gradient(to bottom,transparent 37%,var(--link-background) 37%);background-size:100% 300%;background-position:0 10%;transition-property:background-position;transition-duration:.4s;outline:none}.text-block a:hover{background-position:0 100%}.text-block blockquote{border-left:10px solid var(--code-background);margin:30px 0;padding:0 0 0 25px}.text-block pre{background:var(--pre-background);color:var(--pre-color);padding:1.3em 2em;margin:.5em -2em 1.2em;line-height:1;overflow-x:auto}.text-block code{background:var(--code-background);padding:.1em .3em .2em;color:var(--code-color);border-radius:2px;font-size:.9em}.text-block pre code{background:unset;color:inherit;padding:0;font-size:.8em;white-space:pre}.text-block ul,.text-block ol{font-family:var(--text-family);color:var(--text-color);font-size:var(--text-size);font-weight:var(--text-weight);line-height:var(--text-line);margin:.5em 0 1.2em 1em;padding:0 0 0 1em}.text-block ul{list-style:initial}.text-block ol{list-style:decimal}.text-block ul ul,.text-block ol ol{margin-bottom:.5em}.text-block li{margin:0}.text-block ul ul li{list-style:circle}.text-block ul ul ul li{list-style:square}.text-block hr{margin:3rem 0;height:1px;border:none;border-bottom:1px solid var(--line-heavy)}.text-block table{display:block;width:100%;overflow:auto}.text-block table tr{background-color:#fff;border-top:1px solid var(--line-heavy)}.text-block table tr:nth-child(2n){background-color:#f8f8f8}.text-block table th{font-weight:600}.text-block table th,.text-block table td{padding:.5em 1em;border:1px solid var(--line-light)}.text-block table td{font-weight:var(--text-weight)}.text-block img{max-width:100%}.text-block figure{margin:1.5em 0;text-align:center}.text-block figcaption{font-size:var(--meta-size);color:var(--meta-color);font-style:italic;text-align:center}.text-block iframe{margin:2em auto;display:block}.text-block>:first-child{margin-top:0}.text-block>:last-child{margin-bottom:0}
.post-header[data-astro-cid-yl355ysp]{font-size:var(--text-size)}.post-header__title[data-astro-cid-yl355ysp]{color:var(--heading-color);font-size:var(--heading-level1-size);margin:0 0 .3em}.post-header--listing[data-astro-cid-yl355ysp] .post-header__title[data-astro-cid-yl355ysp]{font-size:var(--heading-level2-size)}.post-header--listing[data-astro-cid-yl355ysp]:hover .post-header__title[data-astro-cid-yl355ysp]{text-decoration:underline}.post-header__icon[data-astro-cid-yl355ysp]{flex-shrink:0;display:inline-block;height:.8em;width:.8em;margin:0 4px 0 0;transform:translateY(3px)}.post-header--details[data-astro-cid-yl355ysp] .post-header__icon[data-astro-cid-yl355ysp]{height:1em;width:1em;margin:0 5px 0 0}.post-header__meta[data-astro-cid-yl355ysp]{color:var(--meta-color);font-size:var(--meta-size);margin:0 0 1em}.post-header__category[data-astro-cid-yl355ysp]{margin:0 0 .5em}.post-header__category-link[data-astro-cid-yl355ysp]{color:var(--heading-color)}.post-header__category-link[data-astro-cid-yl355ysp]:hover{color:var(--text-color);text-decoration:underline}.post-header__excerpt[data-astro-cid-yl355ysp]{color:var(--text-color)}
</style></head> <body data-astro-cid-sckkx6r4> <main class="layout" data-astro-cid-sckkx6r4> <header class="layout__header" data-astro-cid-sckkx6r4> <h1 class="layout__header-title" data-astro-cid-sckkx6r4> <a href="/pt/" data-astro-cid-sckkx6r4>Random Thoughts</a> </h1> <nav class="layout__nav" data-astro-cid-sckkx6r4> <ul class="tabs" data-astro-cid-xlvzfuxv> <li class="tabs__tab" data-astro-cid-xlvzfuxv> <a href="/pt/" title="Últimos posts" class="tabs__link" data-astro-cid-xlvzfuxv> <svg class="icon" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" data-astro-cid-patnjmll><path d="M10 20v-6h4v6h5v-8h3l-10-9-10 9h3v8z" data-astro-cid-patnjmll></path></svg> </a> </li> <li class="tabs__tab" data-astro-cid-xlvzfuxv> <a href="/pt/search" title="Buscar conteúdo" class="tabs__link" data-astro-cid-xlvzfuxv> <svg class="icon" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" data-astro-cid-patnjmll><path d="M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zm0-8.9c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm2.19 12.19l-8.19 3.81 3.81-8.19 8.19-3.81-3.81 8.19z" data-astro-cid-patnjmll></path></svg> </a> </li> <li class="tabs__tab" data-astro-cid-xlvzfuxv> <a href="/pt/archive" title="Arquivo de conteúdo" class="tabs__link" data-astro-cid-xlvzfuxv> <svg class="icon" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" data-astro-cid-patnjmll><path d="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z" data-astro-cid-patnjmll></path></svg> </a> </li> <li class="tabs__tab" data-astro-cid-xlvzfuxv> <a href="/pt/about-me" title="Sobre mim" class="tabs__link" data-astro-cid-xlvzfuxv> <svg class="icon" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" data-astro-cid-patnjmll><path d="M21,13A9,9 0 0,1 12,22A9,9 0 0,1 3,13L3.03,4.43C5.68,2.88 8.76,2 12.05,2C15.3,2 18.36,2.87 21,4.38V13M13,19.93C16.39,19.44 19,16.5 19,13V5.59C16.9,4.57 14.54,4 12.05,4C9.5,4 7.08,4.6 4.94,5.66L5,13C5,16.5 7.63,19.44 11,19.93V18H13V19.93M11,16H8L6,13L9,14H10L11,13H13L14,14H15L18,13L16,16H13L12,15L11,16M6,9.03C6.64,8.4 7.5,8.05 8.5,8.05C9.45,8.05 10.34,8.4 11,9.03C10.34,9.65 9.45,10 8.5,10C7.5,10 6.64,9.65 6,9.03M13,9.03C13.64,8.4 14.5,8.05 15.5,8.05C16.45,8.05 17.34,8.4 18,9.03C17.34,9.65 16.45,10 15.5,10C14.5,10 13.64,9.65 13,9.03Z" data-astro-cid-patnjmll></path></svg> </a> </li> </ul>  <a href="/2018/03/16/component-styles-isolation-dealing-with-css-inheritance/" class="lang-switch" title="English" data-astro-cid-64r42zdf> <span class="lang-switch__current" data-astro-cid-64r42zdf>PT</span> <span class="lang-switch__separator" data-astro-cid-64r42zdf>/</span> <span class="lang-switch__other" data-astro-cid-64r42zdf>EN</span> </a>  </nav> </header> <article class="layout__content" data-astro-cid-sckkx6r4> <div class="layout__content-inner" data-astro-cid-sckkx6r4>  <div class="post-details" data-astro-cid-bangc7to> <div class="post-header post-header--details" data-astro-cid-yl355ysp><p class="post-header__category" data-astro-cid-yl355ysp><a href="/category/frontend" class="post-header__category-link" data-astro-cid-yl355ysp><span class="post-header__icon" data-astro-cid-yl355ysp><svg class="icon" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" data-astro-cid-patnjmll><path d="M18,15H16V17H18M18,11H16V13H18M20,19H12V17H14V15H12V13H14V11H12V9H20M10,7H8V5H10M10,11H8V9H10M10,15H8V13H10M10,19H8V17H10M6,7H4V5H6M6,11H4V9H6M6,15H4V13H6M6,19H4V17H6M12,7V3H2V21H22V7H12Z" data-astro-cid-patnjmll></path></svg></span>Frontend architecture</a></p><h1 class="post-header__title" data-astro-cid-yl355ysp>Isolamento de estilos de componentes: Lidando com herança CSS</h1><p class="post-header__meta" data-astro-cid-yl355ysp>Thursday, March 15, 2018</p></div> <div class="share" data-astro-cid-ung7bpju><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fbernardodiasdacruz.com%2Fpt%2F2018%2F03%2F16%2Fcomponent-styles-isolation-dealing-with-css-inheritance%2F" target="_blank" rel="noopener noreferrer" class="share__button" title="Share on Facebook" data-astro-cid-ung7bpju>Facebook</a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fbernardodiasdacruz.com%2Fpt%2F2018%2F03%2F16%2Fcomponent-styles-isolation-dealing-with-css-inheritance%2F&title=Isolamento%20de%20estilos%20de%20componentes%3A%20Lidando%20com%20heran%C3%A7a%20CSS" target="_blank" rel="noopener noreferrer" class="share__button" title="Share on LinkedIn" data-astro-cid-ung7bpju>LinkedIn</a><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fbernardodiasdacruz.com%2Fpt%2F2018%2F03%2F16%2Fcomponent-styles-isolation-dealing-with-css-inheritance%2F&text=Isolamento%20de%20estilos%20de%20componentes%3A%20Lidando%20com%20heran%C3%A7a%20CSS" target="_blank" rel="noopener noreferrer" class="share__button" title="Share on Twitter" data-astro-cid-ung7bpju>Twitter</a><a href="https://www.reddit.com/submit?url=https%3A%2F%2Fbernardodiasdacruz.com%2Fpt%2F2018%2F03%2F16%2Fcomponent-styles-isolation-dealing-with-css-inheritance%2F&title=Isolamento%20de%20estilos%20de%20componentes%3A%20Lidando%20com%20heran%C3%A7a%20CSS" target="_blank" rel="noopener noreferrer" class="share__button" title="Share on Reddit" data-astro-cid-ung7bpju>Reddit</a></div> <div class="text-block">   <p>Olá! Este é o primeiro post na nova categoria <a href="/category/frontend">Arquitetura Frontend</a>, onde pretendo descrever muitas metodologias e técnicas legais para aplicações frontend de grande escala. Vamos começar!</p>
<p>Neste post, vou contar como lidar com problemas imprevisíveis de estilos que acontecem em projetos de grande escala. Nosso objetivo é criar componentes de UI à prova de falhas, fazendo o CSS agir de forma previsível aproveitando os mecanismos nativos da linguagem!</p>
<h2 id="uma-breve-introdução-sobre-modularização">Uma breve introdução sobre modularização</h2>
<p>Na era moderna do desenvolvimento frontend, toda a atenção se volta para componentes, por que será? Simplificando, uma regra importante para escalar projetos, em relação ao CSS, é a capacidade de remover código. Escalar aplicações frontend não é apenas sobre crescer, mas também sobre se livrar de código obsoleto. Para lidar com isso, os desenvolvedores começaram a focar no desenvolvimento de componentes, ao invés de, por exemplo, páginas.</p>
<p>Um componente é um pedaço de código que tem seu código isolado do resto da aplicação. O componente pode ter pedaços de HTML, CSS e JS. Historicamente, essas linguagens tinham muitas limitações que impediam essa abordagem. Agora, uma era passou e as coisas evoluíram bastante. O que precisávamos todo esse tempo era tornar o código modular, ou seja, dividir o código em muitas partes que podem ser montadas sob demanda e de uma forma que não prejudique a performance nem a nossa sanidade.</p>
<p>Para o HTML, templates estão disponíveis em XSLT desde 2001 — sem nem mencionar as linguagens server-side que nos permitiam montar a marcação da forma que quiséssemos. Os desenvolvedores então perceberam o caos que misturar gerenciamento de dados com templates poderia se tornar. Nesse ponto, muitos frameworks MVC surgiram para oferecer boa separação de responsabilidades e engines de template apareceram em abundância para a parte de visualização. O desenvolvedor podia escolher o que funcionava melhor para um projeto renderizado no servidor. Prometo aprofundar mais sobre engines de template em outro post ;)</p>
<p>Antes de ir para o CSS, deixe-me comentar brevemente sobre módulos JS no lado do cliente (algo que também merece seu próprio post). Eu recomendaria que você lesse <a href="https://addyosmani.com/writing-modular-js/">Writing Modular JavaScript With AMD, CommonJS &#x26; ES Harmony</a>. É uma ótima explicação sobre JavaScript modular. TL;DR: os navegadores, no momento deste post, ainda não suportam amplamente importações dinâmicas, portanto muitos métodos e ferramentas foram criados para fornecer formas de fazer isso, para que pudéssemos ter nossos pedaços de JS separados uns dos outros e ao mesmo tempo funcionando bem quando executados juntos.</p>
<p>No CSS, temos a regra <code>@import</code> desde o CSS Level 1, em outras palavras, desde o início da linguagem. Também poderíamos incluir muitas tags <code>&#x3C;link></code> no nosso HTML para carregar individualmente cada pedaço de CSS. No entanto, ambas as abordagens têm algumas grandes preocupações em relação à performance. Não vou entrar em detalhes para poder voltar ao tópico rapidamente, mas as coisas evoluíram e vão mudar em breve com o HTTP/2 já batendo à porta. Se quiser saber mais sobre isso, recomendo ler este post de 2009: <a href="http://www.stevesouders.com/blog/2009/04/09/dont-use-import/">don’t use @import</a> e também este post de 2016: <a href="https://jakearchibald.com/2016/link-in-body/">The future of loading CSS</a>.</p>
<p>O ponto é que componentes são pedaços separados de código, que podem ser escritos em uma variedade de linguagens e formas, mas no final, eles retornam HTML, CSS e JS.</p>
<h2 id="cascata-e-herança-css">Cascata e Herança CSS</h2>
<p>Tudo bem, agora que cobrimos o conceito de modularização no código frontend, vamos entrar em alguns mecanismos da linguagem CSS: cascata e herança.</p>
<p>A cascata é um aspecto importante do CSS (sim, CSS é um acrônimo para <em>Cascading Style Sheets</em>). “Cascata” indica a ordem em que os estilos são aplicados. Ela será afetada por:</p>
<ol>
<li>Importância</li>
<li>Especificidade</li>
<li>Ordem no código-fonte</li>
</ol>
<p>Tendo a “cascata” em mente e sabendo que alguns estilos podem sobrescrever outros baseado na cascata, o outro mecanismo que se relaciona com isso é a herança. Herança significa que alguns elementos podem herdar estilos dos pais mesmo sem declaração explícita. No entanto, o efeito de herança não se aplica a todas as propriedades CSS.</p>
<p>Como exemplo, <code>font-family</code> e <code>color</code> são automaticamente herdadas; isso facilita a estilização, pois podemos definir os valores base dessas propriedades no <code>&#x3C;html></code>, e todos os elementos filhos receberão os mesmos estilos aplicados por padrão. O mecanismo de cascata permitirá sobrescrever elementos específicos (e seus filhos) quando necessário.</p>
<p>Por outro lado, <code>margin</code>, <code>padding</code>, <code>border</code> e <code>background</code> não são herdados por padrão. Imagine o problema de criar estilos se essas propriedades fossem herdadas por todos os elementos filhos… De qualquer forma, se precisar aplicar herança para uma propriedade específica em um elemento, existe a palavra-chave CSS <code>inherit</code>.</p>
<p>Muitos detalhes adicionais sobre tudo isso podem ser lidos aqui:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Introduction_to_CSS/Cascade_and_inheritance">About Cascade and inheritance</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Cascade">Introducing the CSS Cascade</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/inheritance">Inheritance mechanism</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/inherit">inherit keyword</a></li>
</ul>
<h2 id="isolamento-de-estilos-de-componentes">Isolamento de Estilos de Componentes</h2>
<p>Agora que avançamos nossa compreensão sobre componentes, modularização, cascata CSS e herança, vamos ver como lidar com CSS no desenvolvimento frontend moderno. Não vou propor a forma definitiva de fazer seu código, mas sim um entendimento geral do problema com o qual precisamos lidar em projetos modulares de grande escala e, claro, algumas abordagens diferentes que ajudam a resolver isso.</p>
<h3 id="o-problema">O problema</h3>
<p>Estamos falando de código modular e falando de componentes de UI. Podemos desenvolver uma aplicação sem se preocupar com isolamento, mas isso é o oposto de aproveitar as metodologias modernas. Para tirar o melhor proveito, componentes de UI precisam ser desenvolvidos em isolamento! Isso significa desenvolver as partes fora da aplicação e depois partir para a integração das partes.</p>
<p>O principal problema nessa abordagem é que às vezes, durante a implementação da aplicação, ao aplicar componentes de UI em diferentes partes da aplicação ou talvez em diferentes aplicações, o resultado é diferente do esperado, diferente do que parecia na plataforma isolada. Isso não é incomum em grandes projetos, especialmente quando componentes de UI são usados em muitas aplicações diferentes; se as propriedades herdáveis forem esquecidas, coisas inesperadas podem acontecer.</p>
<h3 id="a-solução">A solução</h3>
<p>Existem muitas abordagens para resolver esse problema e vai variar dependendo do seu stack tecnológico.</p>
<p>Em um grande projeto que ajudei a desenvolver, usamos PostCSS com CSS-Modules em uma base de código React. Isso nos permitiu criar um objeto CSS chamado <code>component</code>. Nesse objeto, definimos algumas propriedades de reset de estilo, como <code>font-family</code>, <code>font-size</code>, <code>color</code>, e outras que fazem herança por padrão. Esses valores de reset eram baseados em CSS Variables, e podiam até diferir de aplicação para aplicação.</p>
<p>Isto é o que fizemos:</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto;" tabindex="0" data-language="css"><code><span class="line"><span style="color:#7F848E;font-style:italic">/**</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"> *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"> * Component isolation</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"> *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"> * Usage:</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"> *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"> * @value component from theme('objects.isolation.css');</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"> *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"> * .componentname {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"> *   composes: component;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"> * }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"> *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D19A66">.component</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#ABB2BF">  display: </span><span style="color:#D19A66">block</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">  box-sizing: </span><span style="color:#D19A66">border-box</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">  font-family: </span><span style="color:#56B6C2">var</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">--typographyFamilySansserif</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#ABB2BF">  font-size: </span><span style="color:#56B6C2">var</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">--typographySizeNormal</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#ABB2BF">  font-weight: </span><span style="color:#56B6C2">var</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">--typographyWeightNormal</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">  /* etc... */</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<p>Um aspecto importante dessa abordagem estava no output do CSS. Ao escolher <code>composes</code> do CSS-Modules, tínhamos uma única declaração de classe no output CSS. Isso significava que aumentar o número de componentes isolados não resultaria em uma quantidade maior de CSS referente a estilos de isolamento. Além disso, escolhemos a abordagem ITCSS para a ordem no código-fonte. Isso significa que as classes do <code>objects.isolation.css</code> vinham antes de todas as classes de componentes na ordem do fonte, então as sobrescritas funcionavam perfeitamente.</p>
<p>A ideia é bastante simples, desde que sua classe <code>.component</code> seja declarada cedo no output CSS, você pode ter o mesmo efeito com CSS puro apenas incluindo a classe na tag HTML:</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto;" tabindex="0" data-language="html"><code><span class="line"><span style="color:#ABB2BF">&#x3C;</span><span style="color:#E06C75">section</span><span style="color:#D19A66"> class</span><span style="color:#ABB2BF">=</span><span style="color:#98C379">"component"</span><span style="color:#ABB2BF">></span></span>
<span class="line"><span style="color:#ABB2BF">  &#x3C;</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">>This component have its inheritable styles isolated from the application.&#x3C;/</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">></span></span>
<span class="line"><span style="color:#ABB2BF">&#x3C;/</span><span style="color:#E06C75">section</span><span style="color:#ABB2BF">></span></span></code></pre>
<p>Mencionei que não ia dizer a forma definitiva de lidar com isolamento de estilos porque, como você deve ter notado nos exemplos acima, só estamos resetando a raiz do componente e não todos os elementos filhos. Mas isso seria perfeitamente possível com a mesma técnica. Acho que está tudo bem resetar apenas a raiz do componente e então aproveitar a herança CSS nativa para os elementos filhos.</p>
<p>Uma outra técnica que li recentemente e gostei muito pode ser encontrada neste post do Yelp: <a href="https://engineeringblog.yelp.com/2018/03/css-in-the-age-of-react.html">CSS in the Age of React: How We Traded the Cascade for Consistency</a>. Recomendo que dê uma olhada no <a href="https://github.com/Yelp/lemon-reset">Lemon Reset</a> deles também, um conjunto de componentes React. Nesse caso, eles estão usando reset para todos os elementos de uma forma muito interessante.</p>
<h2 id="componentes-à-prova-de-falhas">Componentes à Prova de Falhas!</h2>
<p>Bem legal, não é? Um grande problema com bases de código CSS grandes é a imprevisibilidade. Acredite, esse problema pode resultar em muito dinheiro desperdiçado porque pode fazer os desenvolvedores gastarem tempo demais lidando com bugs e regressões, coisas que talvez nem precisassem ter acontecido.</p>
<p>Optar por uma abordagem consistente na arquitetura frontend permite que o projeto escale de forma resiliente. Cada novo componente incluído estará bem isolado, e esses bugs CSS traiçoeiros serão evitados de vez. Isolamento de estilos é o primeiro passo para construir componentes de UI à prova de falhas!</p>   </div>  </div>  <div class="disqus" id="disqus_thread" data-astro-cid-r2x3s5wt></div> <script>(function(){const identifier = "pt-2018-03-16-component-styles-isolation-dealing-with-css-inheritance";
const title = "Isolamento de estilos de componentes: Lidando com herança CSS";
const url = "https://bernardodiasdacruz.com/pt/2018/03/16/component-styles-isolation-dealing-with-css-inheritance/";

  if (window.location.hostname !== 'localhost') {
    window.disqus_config = function () {
      this.page.url = url;
      this.page.identifier = identifier;
      this.page.title = title;
    };
    const d = document;
    const s = d.createElement('script');
    s.src = 'https://bernardodiasc.disqus.com/embed.js';
    s.setAttribute('data-timestamp', String(+new Date()));
    (d.head || d.body).appendChild(s);
  }
})();</script>   </div> </article> </main> <script>
      if (window.location.hostname !== 'localhost') {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-10219275-4');
      }
    </script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-10219275-4"></script> </body> </html> 